'use client'
import Link from "next/link"
import { motion, useInView } from 'framer-motion';
import { useRef } from 'react';
export default function CareerPageSec03({career}) {
  
  return (
    <section className='bg-[#fcfcfc]'>
      <div className='max-w-7xl mx-auto px-6 xl:px-0 pb-[40px] lg:pb-[80px]'>
        <div className='flex w-full h-full'>
            <div className='flex flex-col w-full gap-y-[40px]'>
                {career?.map((item,index)=>(
                
                <CareerItem key={index} item={item} />
                ))}
            </div>
        </div>
      </div>
    </section>
  )
}

function CareerItem({ item }) {
  const ref = useRef(null);
  const isInView = useInView(ref, { once: true, amount: 0.3 });
  const lineVariants = {
    hidden: { pathLength: 0 },
    visible: { 
      pathLength: 1,
      transition: { duration: 1, ease: "easeInOut" }
    }
  };

  const contentVariants = {
    hidden: { opacity: 0, y: 20 },
    visible: { 
      opacity: 1, 
      y: 0,
      transition: { duration: 0.5, ease: "easeOut" }
    }
  };

  const containerVariants = {
    hidden: {},
    visible: {
      transition: {
        staggerChildren: 0.2
      }
    }
  };
  return (
    <motion.article 
   
    ref={ref}
    className='flex flex-col w-full gap-y-[40px]'
    variants={containerVariants}
    initial="hidden"
    animate={isInView ? "visible" : "hidden"}
  >
      <motion.div variants={contentVariants} className='flex justify-between w-full gap-x-[16px] sm:gap-x-[36px]'>
          <div className='flex flex-col w-full ss:w-[calc(70%-8px)] sm:w-[calc(50%-18px)] gap-y-[40px]'>
            <Link href={`/career/${decodeURIComponent(item?.slug?.slug?.current)}`} className="text-[20px] lg:text-[24px] text-[#161616] font-[800] leading-[130%] uppercase ">
              {item?.title}
            </Link>
            <div className="flex items-center w-full gap-x-[16px]">
                {/* Time */}
                <div className="flex justify-center items-center w-[calc(50%-8px)] ss:w-[220px] h-[48px] gap-x-[8px] rounded-[50px] border-[2px] border-[#161616]">
                  <svg className="min-w-[24px] min-h-[24px]" width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M11.5 2C9.52219 2 7.58879 2.58649 5.9443 3.6853C4.29981 4.78412 3.01809 6.3459 2.26121 8.17317C1.50433 10.0004 1.3063 12.0111 1.69215 13.9509C2.078 15.8907 3.03041 17.6725 4.42894 19.0711C5.82746 20.4696 7.60929 21.422 9.5491 21.8079C11.4889 22.1937 13.4996 21.9957 15.3268 21.2388C17.1541 20.4819 18.7159 19.2002 19.8147 17.5557C20.9135 15.9112 21.5 13.9778 21.5 12C21.5 10.6868 21.2413 9.38642 20.7388 8.17317C20.2363 6.95991 19.4997 5.85752 18.5711 4.92893C17.6425 4.00035 16.5401 3.26375 15.3268 2.7612C14.1136 2.25866 12.8132 2 11.5 2ZM11.5 20C9.91775 20 8.37104 19.5308 7.05544 18.6518C5.73985 17.7727 4.71447 16.5233 4.10897 15.0615C3.50347 13.5997 3.34504 11.9911 3.65372 10.4393C3.9624 8.88743 4.72433 7.46197 5.84315 6.34315C6.96197 5.22433 8.38743 4.4624 9.93928 4.15372C11.4911 3.84504 13.0997 4.00346 14.5615 4.60896C16.0233 5.21447 17.2727 6.23984 18.1518 7.55544C19.0308 8.87103 19.5 10.4177 19.5 12C19.5 14.1217 18.6572 16.1566 17.1569 17.6569C15.6566 19.1571 13.6217 20 11.5 20ZM11.5 6C11.2348 6 10.9804 6.10536 10.7929 6.29289C10.6054 6.48043 10.5 6.73478 10.5 7V11.42L8.4 12.63C8.20736 12.7392 8.0564 12.9092 7.97078 13.1134C7.88517 13.3176 7.86975 13.5444 7.92695 13.7583C7.98414 13.9722 8.11072 14.1611 8.28682 14.2953C8.46292 14.4296 8.67859 14.5015 8.9 14.5C9.07518 14.5012 9.2476 14.4564 9.4 14.37L12 12.87L12.09 12.78L12.25 12.65C12.2891 12.6005 12.3226 12.5468 12.35 12.49C12.3826 12.4363 12.4094 12.3793 12.43 12.32C12.4572 12.2564 12.4741 12.1889 12.48 12.12L12.5 12V7C12.5 6.73478 12.3946 6.48043 12.2071 6.29289C12.0196 6.10536 11.7652 6 11.5 6Z" fill="#161616"/>
                  </svg>
                  <b className="text-[16px] lg:text-[18px] text-[#161616] font-semibold leading-[130%]">
                    {item?.type?.type}
                  </b>
                </div>
                {/* Location */}
                <div className="flex justify-center items-center w-[calc(50%-8px)] ss:w-[220px] h-[48px] gap-x-[8px] rounded-[50px] border-[2px] border-[#161616]">
                  <svg className="min-w-[24px] min-h-[24px]" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M17.9999 4.47942C16.4086 2.88812 14.2504 1.99414 11.9999 1.99414C9.74949 1.99414 7.59123 2.88812 5.99993 4.47942C4.40863 6.07072 3.51465 8.22899 3.51465 10.4794C3.51465 12.7299 4.40863 14.8881 5.99993 16.4794L11.2699 21.7594C11.3629 21.8532 11.4735 21.9275 11.5954 21.9783C11.7172 22.0291 11.8479 22.0552 11.9799 22.0552C12.1119 22.0552 12.2426 22.0291 12.3645 21.9783C12.4864 21.9275 12.597 21.8532 12.6899 21.7594L17.9999 16.4294C19.5846 14.8447 20.4748 12.6955 20.4748 10.4544C20.4748 8.21337 19.5846 6.0641 17.9999 4.47942ZM16.5699 14.9994L11.9999 19.5894L7.42993 14.9994C6.52707 14.0957 5.91241 12.9447 5.66362 11.6917C5.41484 10.4388 5.54312 9.14017 6.03223 7.9601C6.52135 6.78004 7.34935 5.77147 8.41156 5.0619C9.47377 4.35233 10.7225 3.9736 11.9999 3.9736C13.2773 3.9736 14.5261 4.35233 15.5883 5.0619C16.6505 5.77147 17.4785 6.78004 17.9676 7.9601C18.4567 9.14017 18.585 10.4388 18.3362 11.6917C18.0875 12.9447 17.4728 14.0957 16.5699 14.9994ZM8.99993 7.40942C8.19264 8.21919 7.73932 9.31599 7.73932 10.4594C7.73932 11.6029 8.19264 12.6997 8.99993 13.5094C9.59969 14.1102 10.3635 14.5205 11.1956 14.6888C12.0276 14.8571 12.8909 14.776 13.677 14.4556C14.4631 14.1351 15.1371 13.5897 15.6144 12.8877C16.0917 12.1856 16.3511 11.3583 16.3599 10.5094C16.3644 9.94263 16.2553 9.38068 16.0388 8.85681C15.8224 8.33294 15.5032 7.85778 15.0999 7.45942C14.7036 7.054 14.231 6.73096 13.7094 6.50889C13.1877 6.28682 12.6273 6.1701 12.0603 6.16545C11.4934 6.1608 10.9311 6.26832 10.4059 6.48181C9.88067 6.6953 9.40285 7.01055 8.99993 7.40942ZM13.6899 12.0894C13.311 12.4742 12.8101 12.7153 12.2731 12.7717C11.736 12.828 11.196 12.6961 10.7454 12.3983C10.2949 12.1006 9.96173 11.6557 9.80294 11.1395C9.64415 10.6233 9.66958 10.0681 9.87489 9.56858C10.0802 9.06909 10.4526 8.65644 10.9285 8.40116C11.4044 8.14588 11.9542 8.06383 12.4839 8.16904C13.0135 8.27425 13.4902 8.56018 13.8324 8.97795C14.1746 9.39573 14.3611 9.91939 14.3599 10.4594C14.3454 11.0767 14.0864 11.6629 13.6399 12.0894H13.6899Z" fill="#161616"/>
                  </svg>
                  <b className="text-[16px] lg:text-[18px] text-[#161616] font-semibold leading-[130%]">
                    {item?.type?.location}
                  </b>

                </div>
            </div>
          </div>
          <div className='hidden ss:flex justify-end ss:w-[calc(30%-8px)] sm:w-[calc(50%-18px)] py-[20px]'>
            <div className="group flex items-center gap-x-[14px]">
                <Link className="text-[20px] lg:text-[24px] text-[#161616] font-semibold leading-[130%] uppercase "
                href={`/career/${decodeURIComponent(item?.slug?.slug?.current)}`}
                >
                  Apply
                </Link>
                <svg className="min-w-[12px] min-h-[13px] transition-all duration-500 group-hover:translate-x-1" width="12" height="13" viewBox="0 0 12 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M11.92 6.12019C11.8724 5.99743 11.801 5.88529 11.71 5.79019L6.71 0.790185C6.61676 0.696947 6.50607 0.622986 6.38425 0.572526C6.26243 0.522066 6.13186 0.496094 6 0.496094C5.7337 0.496094 5.4783 0.601882 5.29 0.790185C5.19676 0.883424 5.1228 0.994114 5.07234 1.11594C5.02188 1.23776 4.99591 1.36833 4.99591 1.50019C4.99591 1.76649 5.1017 2.02188 5.29 2.21019L8.59 5.50019H1C0.734784 5.50019 0.48043 5.60554 0.292893 5.79308C0.105357 5.98062 0 6.23497 0 6.50019C0 6.7654 0.105357 7.01976 0.292893 7.20729C0.48043 7.39483 0.734784 7.50019 1 7.50019H8.59L5.29 10.7902C5.19627 10.8831 5.12188 10.9937 5.07111 11.1156C5.02034 11.2375 4.9942 11.3682 4.9942 11.5002C4.9942 11.6322 5.02034 11.7629 5.07111 11.8848C5.12188 12.0066 5.19627 12.1172 5.29 12.2102C5.38296 12.3039 5.49356 12.3783 5.61542 12.4291C5.73728 12.4798 5.86799 12.506 6 12.506C6.13201 12.506 6.26272 12.4798 6.38458 12.4291C6.50644 12.3783 6.61704 12.3039 6.71 12.2102L11.71 7.21019C11.801 7.11508 11.8724 7.00294 11.92 6.88019C12.02 6.63672 12.02 6.36365 11.92 6.12019Z" fill="#FB602F"/>
                </svg>
            </div>
          </div>
      </motion.div>
      <motion.svg 
          className="w-full h-auto" 
          viewBox="0 0 729 2" 
          fill="none" 
          xmlns="http://www.w3.org/2000/svg"
          variants={contentVariants}
        >
          <motion.path 
            d="M0 1L729 1.00006" 
            stroke="#939393" 
            variants={lineVariants}
          />
        </motion.svg>
    </motion.article>
  );
}